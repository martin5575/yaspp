(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){},36:function(e,t,a){e.exports=a(72)},44:function(e,t,a){},47:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),i=a(21),o=a.n(i),l=a(5),s=a(6),u=a(8),m=a(7),d=a(9),h=a(25),f=(a(44),a(31),a(16)),p=a.n(f),g=(a(47),a(3)),v=a(18),y=a(4),b=Object(y.c)("ui"),E=Object(y.b)(b,Object(y.c)("selectedLeague")),w=Object(y.b)(b,Object(y.c)("selectedYear")),O=Object(y.b)(b,Object(y.c)("selectedMatchDay")),j=Object(y.b)(b,Object(y.c)("isInitializing")),L=Object(y.b)(b,Object(y.c)("isLoadingLeagues")),N=Object(y.b)(b,Object(y.c)("isLoadingYears")),k=Object(y.b)(b,Object(y.c)("isLoadingTeams")),x=Object(y.b)(b,Object(y.c)("isLoadingAllMatchDays")),I=Object(y.b)(b,Object(y.c)("isLoadingMatchDay")),S=j||L||N||k||x||I,M=Object(y.c)("model"),T=Object(y.b)(M,Object(y.c)("leagues")),D=Object(y.b)(M,Object(y.c)("teams")),_=Object(y.b)(M,Object(y.c)("teamsByLeagueAndYear")),C=Object(y.b)(M,Object(y.c)("matchDays")),P=Object(y.b)(M,Object(y.c)("matchs")),Y=Object(y.b)(M,Object(y.c)("yearsByLeague")),A=function(e,t){return e.reduce(function(e,a){var n=t instanceof Function?t(a):a[t],r=e.find(function(e){return e&&e.key===n});return r?r.values.push(a):e.push({key:n,values:[a]}),e},[])},z=function(e){return e.reduce(function(e,t){return e[t.id]=t,e},{})},H=function(e,t){return e.sort(F(t))},F=function(e){return function(t,a){return t[e]<a[e]?-1:t[e]>a[e]?1:0}},B=function(e){return e.reduce(function(e,t){return e+t},0)},R=[{key:"tg_vs_tg",short:"t-t",description:"Zur Bestimmung der Torwahrscheinlichkeit der beiden Mannschaften werden jeweils alle Tore (heim & ausw\xe4rts) genutzt."},{key:"tgdf_vs_tgdf",short:"t-t*",description:"Zur Bestimmung der Torwahrscheinlichkeit der beiden Mannschaften werden jeweils alle Tore (heim & ausw\xe4rts) genutzt. Zus\xe4tzlich wird die Verteidigungsst\xe4rke der gegnerischen Mannschaft ber\xfccksichtigt."},{key:"hg_vs_ag",short:"h-a",description:"Zur Bestimmung der Torwahrscheinlichkeit der Heimmannschaft werden nur die Heimtore genutzt und f\xfcr die Ausw\xe4rtsmannschaft die Ausw\xe4rtstore."},{key:"hgdf_vs_agdf",short:"h-a*",description:"Zur Bestimmung der Torwahrscheinlichkeit der Heimmannschaft werden nur die Heimtore genutzt und f\xfcr die Ausw\xe4rtsmannschaft die Ausw\xe4rtstore. Zus\xe4tzlich wird die Verteidigungsst\xe4rke der gegnerischen Mannschaft ber\xfccksichtigt."}],U=function(e){return R.find(function(t){return t.key===e})},G=function(e,t){return e>t?3:e===t?1:0},K=function(e,t,a){return e?e[t]&&e[a]?e[t]+e[a]:e[t]?e[t]:e[a]:void 0},W=function(e){var t=A(e,"teamHomeId").map(function(e){return{team:e.key,hgf:B(e.values.map(function(e){return e.fullTimeHome})),hga:B(e.values.map(function(e){return e.fullTimeAway})),hp:B(e.values.map(function(e){return G((t=e).fullTimeHome,t.fullTimeAway);var t})),hm:e.values.length}}),a=A(e,"teamAwayId").map(function(e){return{team:e.key,agf:B(e.values.map(function(e){return e.fullTimeAway})),aga:B(e.values.map(function(e){return e.fullTimeHome})),ap:B(e.values.map(function(e){return G((t=e).fullTimeAway,t.fullTimeHome);var t})),am:e.values.length}}),n=A([].concat(Object(v.a)(t),Object(v.a)(a)),"team").map(function(e){return e.values.reduce(function(e,t){return Object(g.a)({},e,t)},{hgf:0,hga:0,hp:0,hm:0,agf:0,aga:0,ap:0,am:0})}).map(function(e){var t=Object(g.a)({},e);return t.tgf=K(e,"hgf","agf"),t.tga=function(e){return K(e,"hga","aga")}(e),t.tp=function(e){return K(e,"hp","ap")}(e),t.tm=function(e){return K(e,"hm","am")}(e),t}),r=n.reduce(function(e,t){var a=Object(g.a)({},e);return a.hga+=t.hga,a.hm+=t.hm,a.aga+=t.aga,a.am+=t.am,a.tga+=t.tga,a.tm+=t.tm,a},{hga:0,hm:0,aga:0,am:0,tga:0,tm:0}),c=r.hm>0?r.hga/r.hm:void 0,i=r.am>0?r.aga/r.am:void 0,o=r.tm>0?r.tga/r.tm:void 0;return n.map(function(e){return Object(g.a)({},e,{hdf:c?e.hga/e.hm/c:1,adf:i?e.aga/e.am/i:1,tdf:o?e.tga/e.tm/o:1})})},Z=function(e,t){return{home:e&&e.hm?e.hgf/e.hm:void 0,away:t&&t.am?t.agf/t.am:void 0}},q=function(e,t){return{home:e&&e.tm?e.tgf/e.tm:void 0,away:t&&t.tm?t.tgf/t.tm:void 0}},J=function(e,t,a){switch(a){case"hgdf_vs_agdf":return function(e,t){var a=Z(e,t);return{home:a.home&&t.adf?a.home*t.adf:void 0,away:a.away&&e.hdf?a.away*e.hdf:void 0}}(e,t);case"hg_vs_ag":return Z(e,t);case"tgdf_vs_tgdf":return function(e,t){var a=q(e,t);return{home:a.home&&t.tdf?a.home*t.tdf:void 0,away:a.away&&e.tdf?a.away*e.tdf:void 0}}(e,t);case"tg_vs_tg":default:return q(e,t)}},V=function(e,t){return e?e.toFixed(t):"0.0"},Q=function(e,t){return Math.pow(e,t)*Math.exp(-e)/function(e){for(var t=1,a=1;a<=e;++a)t*=a;return t}(t)},X=function(e){for(var t=0,a=e.length,n=0;n<a;++n)for(var r=n+1;r<a;++r)t+=e[n][r];return t},$=function(e){for(var t=0,a=e.length,n=1;n<a;++n)for(var r=0;r<n;++r)t+=e[n][r];return t},ee=function(e){for(var t=0,a=e.length,n=0;n<a;++n)t+=e[n][n];return t},te=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.01,r=Math.max(n,e||0),c=Math.max(n,t||0),i=[],o=0;o<=a;++o){for(var l=[],s=0;s<=a;++s)l.push(Q(r,o)*Q(c,s));i.push(l)}return i},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?(100*e).toFixed(t)+"%":"-"},ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e?Math.min(99.9,1/e).toFixed(t):"-"},re=a(11),ce=a(82),ie=a(81),oe=(a(52),a(74)),le=a(75),se=a(76),ue=(a(54),a(17)),me=a.n(ue),de=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.stats.home,t=this.props.stats.away,a=te(e,t,7,.01),n=[0,1,2,3,4,5,6];return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-1"}),r.a.createElement("div",{className:"col-10"},r.a.createElement("div",{className:"d-flex flex-column p-0"},r.a.createElement("div",{className:"d-flex flex-nowrap align-items-stretch"},r.a.createElement("div",{className:"p-2 text-center score-card"},r.a.createElement("small",null,r.a.createElement("b",null,"[%]"))),n.map(function(e){return r.a.createElement("div",{className:"p-2 text-center score-card"},r.a.createElement("small",null,r.a.createElement("b",null,e)))})),n.map(function(e){return r.a.createElement("div",{className:"d-flex flex-nowrap align-items-stretch"},r.a.createElement("div",{className:"p-2 text-center score-card"},r.a.createElement("small",null,r.a.createElement("b",null,e))),n.map(function(t){return r.a.createElement("div",{className:"p-2 text-center score-card ".concat(e===t?"diagonal":"non-diagonal"),style:{backgroundColor:"hsl(360 100% ".concat(100-70*a[e][t],"%)")}},r.a.createElement("small",null,(100*a[e][t]).toFixed(0)))}))}))))}}]),t}(r.a.Component),he=(a(56),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.stats.home,t=this.props.stats.away,a=te(e,t,7,.01),n=[0,1,2,3,4,5,6],c=[];n.forEach(function(e){n.forEach(function(t){c.push({prob:a[e][t],result:"".concat(e,":").concat(t)})})});var i=me.a.sortBy(c,function(e){return-e.prob});return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 p-0"},r.a.createElement("small",null,r.a.createElement("b",null,"TOP 3"))),[0,1,2].map(function(e){return r.a.createElement("div",{className:"col-3 p-0"},r.a.createElement("small",null,r.a.createElement("b",null,i[e].result)," (",(100*i[e].prob).toFixed(1),"%)"))}))}}]),t}(r.a.Component));a(58);var fe=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.stats.home,t=this.props.stats.away,a=te(e,t,7,.01),n=[0,1,2,3,4,5,6],c=function(e,t){console.log("probs",e),t.length;var a=[];return t.forEach(function(n){a[n]=[],t.forEach(function(r){a[n][r]=function(e,t,a,n){var r=0;return n.forEach(function(c){n.forEach(function(n){var i,o,l,s,u=(o=n,s=t,(i=c)===(l=e)&&o===s?4:i===o&&l===s?2:i-o===l-s?3:i>o&&l>s||i<o&&l<s?2:0);r+=a[c][n]*u})}),r}(n,r,e,t)})}),a}(a,n),i=[];n.forEach(function(e){n.forEach(function(t){i.push({expectedPoints:c[e][t],result:"".concat(e,":").concat(t)})})});var o=me.a.sortBy(i,function(e){return-e.expectedPoints});return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 p-0"},r.a.createElement("small",null,r.a.createElement("b",null,"TIPP3"))),[0,1,2].map(function(e){return r.a.createElement("div",{className:"col-3 p-0"},r.a.createElement("small",null,r.a.createElement("b",null,o[e].result)," (",o[e].expectedPoints.toFixed(2),")"))}))}}]),t}(r.a.Component),pe=(a(60),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.stats.home,t=this.props.stats.away,a=te(e,t,7,.01),n=[0,1,2,3,4,5,6],c={},i={};n.forEach(function(e){n.forEach(function(t){var n=e-t;void 0===c[n]&&(c[n]=[]),c[n].push(a[e][t]),void 0===i[n]?i[n]={prob:a[e][t],result:"".concat(e,":").concat(t)}:a[e][t]>i[n].prob&&(i[n]={prob:a[e][t],result:"".concat(e,":").concat(t)})})});var o=Object.keys(c).map(function(e){return parseInt(e)}).sort(function(e,t){return e-t}).map(function(e){return{diff:e,prob:me.a.sum(c[e]),maxResult:i[e].result,maxProb:i[e].prob}});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 text-center"},r.a.createElement("small",null,r.a.createElement("b",null,"+/-"))),r.a.createElement("div",{className:"col-5 text-right"},r.a.createElement("small",null,r.a.createElement("b",null,"Wahrscheinlichkeit"))),r.a.createElement("div",{className:"col-5 text-right"},r.a.createElement("small",null,r.a.createElement("b",null,"Top-Ergebnis")))),o.filter(function(e){return e.prob>.01}).map(function(e){return r.a.createElement("div",{className:"row",style:{backgroundColor:"hsl(360 100% ".concat(100-70*e.prob,"%)")}},r.a.createElement("div",{className:"col-2 text-center"},r.a.createElement("small",null,e.diff)),r.a.createElement("div",{className:"col-5 text-right"},r.a.createElement("small",null,(100*e.prob).toFixed(1),"%")),r.a.createElement("div",{className:"col-2 text-right"},r.a.createElement("small",null,e.maxResult)),r.a.createElement("div",{className:"col-2 text-right p-0"},r.a.createElement("small",null,"(",(100*e.maxProb).toFixed(1),"%)")))}))}}]),t}(r.a.Component)),ge=(a(62),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).logoSize=20,a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"details",value:function(e,t,a,n,c){var i=t[e],o=a.find(function(t){return t.team===e});console.log(n);var l=["tg_vs_tg","tgdf_vs_tgdf"].includes(n),s=["hg_vs_ag","hgdf_vs_agdf"].includes(n)&&c,u=["hg_vs_ag","hgdf_vs_agdf"].includes(n)&&!c;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement("img",{src:i.iconUrl,alt:i.name,height:this.logoSize,width:this.logoSize})),!o&&r.a.createElement("div",{className:"col-10"},r.a.createElement("i",null,"no data")),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-1 p-0"},r.a.createElement("small",null,o.tp)),r.a.createElement("div",{className:"col-2 p-0"},r.a.createElement("small",{className:"".concat(l?"bold":"")},o.tgf,":",o.tga)),r.a.createElement("div",{className:"col-1 p-0"},r.a.createElement("small",null,o.hp)),r.a.createElement("div",{className:"col-2 p-0"},r.a.createElement("small",{className:"".concat(s?"bold":"")},o.hgf,":",o.hga)),r.a.createElement("div",{className:"col-1 p-0"},r.a.createElement("small",null,o.ap)),r.a.createElement("div",{className:"col-2 p-0"},r.a.createElement("small",{className:"".concat(u?"bold":"")},o.agf,":",o.aga))))}},{key:"render",value:function(){var e=this.props.teams,t=this.props.match,a=this.props.seasonInfo,n=this.props.modelKey;return e&&t&&a?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 p-0"},r.a.createElement("small",null,"Team")),r.a.createElement("div",{className:"col-3 p-0"},r.a.createElement("small",null,"Gesamt")),r.a.createElement("div",{className:"col-3 p-0"},r.a.createElement("small",null,"Heim")),r.a.createElement("div",{className:"col-3 p-0"},r.a.createElement("small",null,"Ausw\xe4rts"))),this.details(t.teamHomeId,e,a,n,!0),this.details(t.teamAwayId,e,a,n,!1)):r.a.createElement("div",null,"empty")}}]),t}(r.a.Component)),ve=(r.a.Component,a(29)),ye=a(64),be=a(77),Ee=a(78),we=a(79),Oe=a(80),je=[{id:1,altText:"Slide 1",caption:"Slide 1"},{id:2,altText:"Slide 2",caption:"Slide 2"},{id:3,altText:"Slide 3",caption:"Slide 3"}],Le=20;function Ne(e){var t=e.teams,a=e.match,c=e.seasonInfo,i=e.stats,o=e.modelKey;if(!t||!a||!c)return r.a.createElement("div",null,"empty");var l=t[a.teamHomeId],s=t[a.teamAwayId],u=Object(n.useState)(0),m=Object(ve.a)(u,2),d=m[0],h=m[1],f=Object(n.useState)(!1),p=Object(ve.a)(f,2),g=p[0],v=p[1],y=function(){if(!g){var e=d===je.length-1?0:d+1;h(e)}},b=function(){if(!g){var e=0===d?je.length-1:d-1;h(e)}},E=[r.a.createElement(ye.a,{className:"custom-tag",tag:"div",key:"1",onExiting:function(){return v(!0)},onExited:function(){return v(!1)}},r.a.createElement(be.a,{captionText:"Stats"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-1"}),r.a.createElement("div",{className:"col-10"},r.a.createElement(ge,{className:"mt-3",teams:t,match:a,seasonInfo:c,modelKey:o}),r.a.createElement(he,{className:"mt-3",stats:i}),r.a.createElement(fe,{className:"mt-3",stats:i})))),r.a.createElement(ye.a,{className:"custom-tag",tag:"div",key:"2",onExiting:function(){return v(!0)},onExited:function(){return v(!1)}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-1"}),r.a.createElement("div",{className:"col-10"},r.a.createElement(pe,{stats:i})))),r.a.createElement(ye.a,{className:"custom-tag",tag:"div",key:"3",onExiting:function(){return v(!0)},onExited:function(){return v(!1)}},r.a.createElement(de,{stats:i}))];return r.a.createElement(oe.a,null,r.a.createElement(le.a,null,r.a.createElement(se.a,{tag:"h5"},"Match Details",r.a.createElement("img",{src:l.iconUrl,alt:l.name,height:Le,width:Le}),r.a.createElement("img",{src:s.iconUrl,alt:s.name,height:Le,width:Le})),r.a.createElement("style",null,".custom-tag {\n              width: 100%;\n              height: 400px;\n              background: #eeeeeecc;\n                          }"),r.a.createElement(Ee.a,{activeIndex:d,next:y,previous:b},r.a.createElement(we.a,{items:je,activeIndex:d,onClickHandler:function(e){g||h(e)}}),E,r.a.createElement(Oe.a,{direction:"prev",directionText:" ",onClickHandler:b}),r.a.createElement(Oe.a,{direction:"next",directionText:" ",onClickHandler:y}))))}var ke=function(e,t){return e?ae(t):ne(t)},xe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).logoSize=20,a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match,a=this.props.teams,n=this.props.seasonInfo,c=this.props.modelKey,i=this.props.probabilityDetailsMatchId,o=t.id===i,l=a[t.teamHomeId],s=a[t.teamAwayId],u=function(e,t,a,n){var r=e.find(function(e){return e.team===t}),c=e.find(function(e){return e.team===a});return J(r,c,n)}(n,t.teamHomeId,t.teamAwayId,c),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(V(e.home,t),":").concat(V(e.away,t))}(u,1),d=function(e,t){var a=te(e,t);return{win:$(a),tie:ee(a),loss:X(a)}}(u.home,u.away),h=(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;"".concat(ae(e.win,t),"/").concat(ae(e.tie,t),"/").concat(ae(e.loss,t))}(d),this.props.showPercentage);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row",key:t.id,"data-toggle":"tooltip",title:"aktualisiert: "+p()(t.lastUpdate).format("DD.MM.YY HH:mm:ss")},r.a.createElement("div",{className:"col-2 pr-0"},r.a.createElement("img",{src:l.iconUrl,alt:l.shortName,height:this.logoSize,width:this.logoSize}),r.a.createElement("img",{src:s.iconUrl,alt:s.shortName,height:this.logoSize,width:this.logoSize})),r.a.createElement("div",{className:"col-1 pr-0"},r.a.createElement("small",null,"(",t.halfTimeHome,":",t.halfTimeAway,")")),r.a.createElement("div",{className:"col-1 pr-0"},r.a.createElement("small",{className:t.isFinished?"final ":""},t.fullTimeHome,":",t.fullTimeAway)),r.a.createElement("div",{className:"col-1"},r.a.createElement(ce.a,{size:"sm",color:"link",onClick:function(){return e.props.toggleProbabilityDetails(o?null:t.id)}},r.a.createElement(re.a,{icon:"angle-double-down",color:"gray"}))),r.a.createElement("div",{className:"col-2 text-center pr-0"},r.a.createElement("small",null,r.a.createElement("i",null,m))),r.a.createElement("div",{className:"col-1 text-center pr-0"},r.a.createElement("small",null,r.a.createElement("i",null,ke(h,d.win)))),r.a.createElement("div",{className:"col-1 text-center pr-0"},r.a.createElement("small",null,r.a.createElement("i",null,ke(h,d.tie)))),r.a.createElement("div",{className:"col-1 text-center pr-0"},r.a.createElement("small",null,r.a.createElement("i",null,ke(h,d.loss))))),r.a.createElement("div",{className:"row"},r.a.createElement(ie.a,{className:"col-12",isOpen:o},r.a.createElement(Ne,{className:"p-1",match:t,teams:a,seasonInfo:n,modelKey:c,stats:u}))))}}]),t}(r.a.Component),Ie=(a(65),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.statsTitle,a=(this.props.statsDescription,this.props.showPercentage);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row",key:"this.props.date"},r.a.createElement("div",{scope:"col",className:"col-5 "},r.a.createElement("small",null,p()(this.props.date).format("ddd DD.MM HH:mm"))),t&&r.a.createElement("div",{scope:"col",className:"col-2 text-center"},r.a.createElement("small",null,t,"\xa0",r.a.createElement(re.a,{icon:"info-circle",size:"sm"}))),t&&r.a.createElement("div",{scope:"col",className:"col-1 text-center"},r.a.createElement("small",null,"1")),t&&r.a.createElement("div",{scope:"col",className:"col-1 text-center"},r.a.createElement("small",null,"0")),t&&r.a.createElement("div",{scope:"col",className:"col-1 text-center"},r.a.createElement("small",null,"2")),t&&r.a.createElement("div",{scope:"col",className:"col-1 text-center"})),this.props.matchs.map(function(t){return r.a.createElement(xe,{match:t,teams:e.props.teams,seasonInfo:e.props.seasonInfo,key:t.id,showPercentage:a,modelKey:e.props.modelKey,probabilityDetailsMatchId:e.props.probabilityDetailsMatchId,toggleProbabilityDetails:e.props.toggleProbabilityDetails})}))}}]),t}(r.a.Component)),Se=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.matchs,a=this.props.teams,n=this.props.seasonInfo,c=this.props.showPercentage;if(!t||0===t.length||!a)return r.a.createElement("div",null,"empty");var i,o=(i=function(e){return e.matchDateTime},t.reduce(function(e,t){var a=i(t);return(e[a]=e[a]||[]).push(t),e},{})),l=Object.entries(o);H(l,"0");var s=this.props.selectedModelId,u=R[s].key,m=function(e){var t=U(e);return t?t.short:""}(u),d=function(e){var t=U(e);return t?t.description:""}(u);return r.a.createElement("div",{className:"container-fluid schedule"},l.map(function(t,i){return r.a.createElement(Ie,{teams:a,seasonInfo:n,date:t[0],matchs:t[1],key:t[0],statsTitle:0===i?m:"",statsDescription:d,modelKey:u,showPercentage:c,probabilityDetailsMatchId:e.props.probabilityDetailsMatchId,toggleProbabilityDetails:e.props.toggleProbabilityDetails})}))}}]),t}(r.a.Component),Me=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).logoSize=20,a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.seasonInfo,a=this.props.teams,n=this.props.matchs.flatMap(function(e){return[e.teamHomeId,e.teamAwayId]}),c=(t&&t.length?t:n.map(function(e){return{team:e,tp:0,tgf:0,tga:0}})).map(function(e){return Object(g.a)({},e,{iconUrl:a[e.team].iconUrl,shortName:a[e.team].shortName})}),i=H(c,"tp").reverse();return r.a.createElement("table",{class:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Team"),r.a.createElement("th",{scope:"col"},"P"),r.a.createElement("th",{scope:"col"},"TG"),r.a.createElement("th",{scope:"col"},"TA"))),r.a.createElement("tbody",null,i.map(function(t,a){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{src:t.iconUrl,alt:t.shortName,height:e.logoSize,width:e.logoSize})),r.a.createElement("td",null,t.tp),r.a.createElement("td",null,t.tgf),r.a.createElement("td",null,t.tga))})))}}]),t}(r.a.Component),Te=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onSelect",value:function(e){for(var t=e.target;!t.id;)t=t.parentElement;this.props.onSelect(t.id)}},{key:"render",value:function(){var e=this;if(!this.props.data)return n.createElement("div",null);var t=this.props.buttonStyles?this.props.buttonStyles:"",a=this.props.bgStyles?this.props.bgStyles:"",r=this.props.data,c=r.findIndex(function(t){return t.id===e.props.selected}),i=r[c],o=c+1,l=c-1,s=o<r.length?r[o].id:void 0,u=l>=0?r[l].id:void 0;return n.createElement("div",{className:"btn-group ".concat(a),role:"group","aria-label":"Button group with nested dropdown"},n.createElement(ce.a,{id:u,className:"btn btn-secondary ".concat(t),disabled:void 0===u,onClick:this.onSelect.bind(this)},n.createElement(re.a,{icon:"caret-left"})),n.createElement("div",{className:"btn-group",role:"group"},n.createElement(ce.a,{id:"btnGroupDrop1",className:"btn btn-secondary dropdown-toggle ".concat(t),"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i?i.name:this.props.selected),n.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupDrop1"},this.props.data.map(function(t){return n.createElement(ce.a,{className:"dropdown-item",id:t.id,key:t.id,onClick:e.onSelect.bind(e)},t.name)})),n.createElement(ce.a,{id:s,className:"btn btn-secondary ".concat(t),onClick:this.onSelect.bind(this),disabled:void 0===s},n.createElement(re.a,{icon:"caret-right"}))))}}]),t}(n.Component),De="RequestLeagues",_e="RequestYears",Ce="RequestTeams",Pe="RequestMatchDays",Ye="RequestMatchs",Ae="ReceiveLeagues",ze="ReceiveYears",He="ReceiveTeams",Fe="ReceiveMatchDays",Be="ReceiveMatchs",Re="SelectMatchDay",Ue="SelectLeague",Ge="SelectYear",Ke="StartRefreshMatchs",We=[{id:"bl1",name:"1.Bundesliga",key:3005,years:[2023,2022,2021,2020,2019,2018,2017,2016,2015]},{id:"bl2",name:"2.Bundesliga",years:[2023,2022,2021,2020,2019,2018,2017,2016,2015]},{id:"bl3",name:"3.Bundesliga",years:[2023,2022,2021,2020,2019,2018,2017,2016,2015]},{id:"fifa18",name:"WM18",years:[2018]}];var Ze="https://api.openligadb.de";function qe(e){return{id:e.teamId,shortName:e.shortName,iconUrl:e.teamIconUrl,name:e.teamName}}function Je(e){var t=E(e),a=w(e),n=O(e),r=P(e);return r?r.filter(function(e){return e.league===t&&e.year===a&&e.matchDayId===n}):[]}function Ve(e){var t=E(e);return Y(e)[t.toString()]}function Qe(e){var t=E(e),a=w(e);return C(e).filter(function(e){return e.league===t&&e.year===a})}var Xe=function(e,t){return!!Qe(e).find(function(e){return e.id===t})},$e=function(e){var t=P(e);return t&&t.length>0},et=function(e,t){if(!e)throw new Error("state not defined");if(!t)throw new Error("selectedLeague not defined");var a=Y(e)[t.toString()];return a&&a.length>0},tt=function(e,t,a){if(!e)throw new Error("state not defined");if(!t)throw new Error("selectedLeague not defined");if(!a)throw new Error("selectedYear not defined");var n=_(e).filter(function(e){return e.league===t&&e.year===a});return n&&n.length>0},at=function(e,t,a){if(!e)throw new Error("state not defined");if(!t)throw new Error("selectedLeague not defined");if(!a)throw new Error("selectedYear not defined");var n=C(e).filter(function(e){return e.league===t&&e.year===a});return n&&n.length>0},nt=function(e){if(e&&0!==e.length)return Object(y.a)(Object(y.c)("lastUpdate"))(e).sort().reverse()[0]};function rt(e,t){return Xe(e,t)||(t=O(e)),{type:Re,selectedMatchDay:t}}function ct(e){return{type:Ue,selectedLeague:e}}function it(e,t){return{type:Ge,selectedLeague:e,selectedYear:t}}function ot(e,t,a){return{type:Fe,isLoadingMatchDays:!1,selectedLeague:e,selectedYear:t,matchDays:a.map(function(a){return n=a,r=e,c=t,{id:parseInt(n.groupOrderID,10),name:n.groupName,key:parseInt(n.groupID,10),league:r,year:c};var n,r,c})}}function lt(e,t){return function(a){return a(function(e,t){return{type:Pe,isLoadingMatchDays:!0,selectedLeague:e,selectedYear:t}}(e,t)),function(e,t){if(!e)throw new Error("league is not defined");if(!t)throw new Error("year is not defined");var a="".concat(Ze,"/getavailablegroups/").concat(e,"/").concat(t);return fetch(a).then(function(e){return e.json()})}(e,t).then(function(n){return a(ot(e,t,n))})}}function st(e,t,a){return function(n){return n(function(e,t,a){return{type:Ye,isLoadingMatchs:!0,selectedLeague:e,selectedYear:t,selectedMatchDay:a}}(e,t,a)),function(e,t,a){if(!e)throw new Error("league is not defined");if(!t)throw new Error("year is not defined");if(!a)throw new Error("matchday is not defined");var n="".concat(Ze,"/getmatchdata/").concat(e,"/").concat(t,"/").concat(a);return fetch(n).then(function(e){return e.json()})}(e,t,a).then(function(r){return n(function(e,t,a,n){var r=function(e){for(var t,a={},n=0;n<e.length;n++){var r=[qe((t=e[n]).team1),qe(t.team2)],c=r[0];a[c.id]=c;var i=r[1];a[i.id]=i}return a}(n);return{type:Be,isLoadingMatchs:!1,selectedLeague:e,selectedYear:t,selectedMatchDay:a,matchs:n.map(function(a){return function(e,t,a){var n=e.matchID,r=e.matchDateTime,c=e.team1.teamId,i=e.team2.teamId,o=e.matchIsFinished,l=e.group.groupOrderID,s=e.leagueId,u=e.lastUpdateDateTime,m=e.matchResults.find(function(e){return"Halbzeit"===e.resultName||"Halbzeitergebnis"===e.resultName}),d=e.matchResults.find(function(e){return"Endergebnis"===e.resultName});return{id:n,teamHomeId:c,teamAwayId:i,matchDayId:l,league:t,leagueKey:s,year:a,lastUpdate:u,matchDateTime:r,isFinished:o,halfTimeHome:m?m.pointsTeam1:"-",halfTimeAway:m?m.pointsTeam2:"-",fullTimeHome:d?d.pointsTeam1:"-",fullTimeAway:d?d.pointsTeam2:"-"}}(a,e,t)}),teams:r}}(e,t,a,r))})}}function ut(e){var t=E(e),a=w(e),n=O(e);if(t&&a&&a)return function(r){return r({type:Ke,isRefreshingMatchs:!0}),function(e,t,a){if(!e)throw new Error("league is not defined");if(!t)throw new Error("year is not defined");if(!a)throw new Error("matchday is not defined");var n="".concat(Ze,"/getlastchangedate/").concat(e,"/").concat(t,"/").concat(a);return fetch(n).then(function(e){return e.json()})}(t,a,n).then(function(c){!function(e,t){console.log(e,t);var a=Je(e),n=nt(a);return!n||n<t}(e,c)?r(mt()):st(t,a,n)(r).then(function(e){return r(mt())})})}}function mt(){return{type:Ke,isRefreshingMatchs:!1}}function dt(e,t){return function(a){return a(function(e,t){return{type:Ce,isLoadingTeams:!0,selectedLeague:e,selectedYear:t}}(e,t)),function(e,t){if(!e)throw new Error("league is not defined");if(!t)throw new Error("year is not defined");var a="".concat(Ze,"/getavailableteams/").concat(e,"/").concat(t);return fetch(a).then(function(e){return e.json()})}(e,t).then(function(n){return a(function(e,t,a){var n=a.map(function(e){return qe(e)}),r=z(n),c=n.map(function(a){return{teamId:a.id,league:e,year:t}});return{type:He,isLoadingTeams:!1,selectedLeague:e,selectedYear:t,teams:r,teamsByLeagueAndYear:c}}(e,t,n))})}}function ht(){return function(e){e({type:De,isLoadingLeagues:!0});var t=We.map(function(e){return{id:e.id,name:e.name}});e({type:Ae,isLoadingLeagues:!1,leagues:t.map(function(e){return e})})}}function ft(e){if(void 0===e)throw new Error("selectedLeague is undefined");return function(t){t(function(e){return{type:_e,isLoadingYears:!0,selectedLeague:e}}(e));var a=function(e){var t=We.find(function(t){return t.id===e});return t?t.years.map(function(t){return{id:t,name:t,leagueId:e}}):[]}(e);t(function(e,t){var a=t.map(function(e){return e}),n={};return n[e]=a,{type:ze,selectedLeague:e,isLoadingYears:!1,yearsByLeague:n}}(e,a))}}var pt=function(){return{type:"StartInitializing",isInitializing:!0}},gt=function(){return{type:"EndInitializing",isInitializing:!1}};function vt(e){var t=e.getState(),a=E(t),n=w(t),r=O(t);return P(t).find(function(e){return e.league===a&&e.year===n&&e.matchDayId===r})}var yt=function(e,t,a,n){return e.dispatch(st(t,a,n))},bt=function(e){return e.dispatch(function(e){return function(t){t(pt());var a=e.getState();if($e(a)){var n=T(a)[0];t(ct(n.id)),a=e.getState()}else ht()(t),a=e.getState();var r=E(a);if(et(a,r)){var c=Ve(a)[0];t(it(r,c.id)),a=e.getState()}else ft(r)(t),a=e.getState();var i=w(a);if(tt(a,r,i)||t(dt(r,i)),at(a,r,i)){var o=Qe(a)[0];t(rt(a,o.id))}else t(lt(r,i)).then(function(){var a=e.getState(),n=O(a);t(st(r,i,n))});t(gt())}}(e))},Et=function(e,t){return e.dispatch(ft(t))},wt=function(e,t){return e.dispatch(rt(e.getState(),t))},Ot=function(e,t){return e.dispatch(ct(t))},jt=function(e,t,a){return e.dispatch(it(t,a))},Lt=function(e){var t=e.getState();(function(e){var t=e.getState(),a=E(t),n=w(t);return C(t).find(function(e){return e.league===a&&e.year===n})})(e)||(t=e.getState(),function(e,t,a){e.dispatch(lt(t,a))}(e,E(t),w(t))),t=e.getState();var a=O(t);if(wt(e,a=a||1),!vt(e)){var n=e.getState();yt(e,E(n),w(n),O(n))}},Nt=function(e,t){return e.dispatch(function(e){return{type:"SwitchMenu",menuId:e}}(t))},kt=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onSelect",value:function(e){var t=this.props.store;wt(t,parseInt(e,10)),this.updateMatchs()}},{key:"updateMatchs",value:function(){var e=this.props.store;if(!vt(e)){var t=e.getState();yt(e,E(t),w(t),O(t))}}},{key:"render",value:function(){var e=this.props.store.getState(),t=Qe(e),a=O(e);return n.createElement(Te,{data:t,selected:a,onSelect:this.onSelect.bind(this)})}}]),t}(n.Component),xt=Object(c.b)(function(e){return{disabled:!1,isUpdating:e.ui.isRefreshingMatchs,state:e}},function(e){return{onClick:function(t){console.log("refresh"),e(ut(t))}}})(function(e){var t=e.onClick,a=e.disabled,r=e.isUpdating,c=e.state;return n.createElement(ce.a,{type:"button",className:"btn btn-secondary",onClick:function(){return t(c)},disabled:a&&!r},n.createElement(re.a,{icon:"sync",spin:r}))}),It=Object(c.b)(function(e){return{disabled:!1}},function(e,t){return{onClick:function(){e(function(e){return{type:"SwitchModel",payload:(t=e,++t%R.length)};var t}(t.selectedModelId))}}})(function(e){var t=e.onClick,a=e.disabled;return n.createElement(ce.a,{className:"btn btn-secondary",onClick:t,disabled:a},n.createElement(re.a,{icon:"sliders-h"}))}),St=Object(c.b)(function(e){return{onClick:function(){console.log("refresh")},disabled:!0}})(function(e){var t=e.onClick,a=e.disabled;return n.createElement(ce.a,{className:"btn btn-secondary",onClick:t,disabled:a},n.createElement(re.a,{icon:"ellipsis-v"}))}),Mt=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.store.getState();return j(e)?n.createElement("h2",null,"Intializing..."):L(e)?n.createElement("h2",null,"Loading Leagues..."):N(e)?n.createElement("h2",null,"Loading Years..."):x(e)?n.createElement("h2",null,"Loading Matchdays..."):k(e)?n.createElement("h2",null,"Loading Teams..."):I(e)?n.createElement("h2",null,"Loading Matchs..."):void 0}}]),t}(n.Component),Tt=function(e){var t=e.icon,a=e.disabled,r=e.handleClick;return n.createElement(ce.a,{color:"link",onClick:r,disabled:a},n.createElement(re.a,{icon:t}))},Dt=Object(c.b)(function(e){return{icon:"trash-alt",disabled:!1}},function(e){return{handleClick:function(){e({type:"ClearAll"})}}})(Tt),_t=Object(c.b)(function(e,t){return{icon:"trash",disabled:!1}},function(e,t){return{handleClick:function(){var a,n;e((a=t.league,n=t.year,{type:"ClearSeason",payload:{league:a,year:n}}))}}})(Tt),Ct=function(e){return Object.keys(e.model.teams).length},Pt=function(e){return A(e.model.matchs,function(e){return e.league}).map(function(t){return{league:t.key,name:e.model.leagues.find(function(e){return e.id===t.key}).name,seasons:H(A(t.values,function(e){return e.year}).map(function(e){return{year:e.key,count:A(e.values,function(e){return e.matchDayId}).length}}),"year")}})},Yt=Object(c.b)(function(e){return function(e){return{teamCount:Ct(e),leagues:Pt(e)}}(e)})(function(e){var t=e.teamCount,a=e.leagues;return n.createElement("div",null,n.createElement("h3",null,"Lokaler Speicher ",n.createElement(Dt,null)),n.createElement("div",{className:"storage-header"},"Allgemeine Informationen"),n.createElement("div",{className:"storage-row"},"Mannschaften (",t,")"),n.createElement("div",{className:"storage-header"},"Ligen"),n.createElement("div",null,a.count),a.map(function(e){return n.createElement("div",{key:e.league},n.createElement("div",{className:"storage-sub-header"},e.name),e.seasons.map(function(t){return a=e.league,r=t.year,c=t.count,n.createElement("div",{className:"storage-row",key:"".concat(a,"_").concat(r)},r," (",c,") ",n.createElement(_t,{league:a,year:r}));var a,r,c}))}))}),At=function(e){var t=e.onClick,a=e.disabled,r=e.state;return n.createElement(ce.a,{type:"button",className:"btn btn-secondary","data-toggle":"button","aria-pressed":r.ui.showPercentage,onClick:function(){return t(r)},disabled:a},n.createElement(re.a,{icon:"percentage"}))};function zt(){zt=function(){return t};var e,t={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},c="function"==typeof Symbol?Symbol:{},i=c.iterator||"@@iterator",o=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function u(e,t,a,n){var c=t&&t.prototype instanceof v?t:v,i=Object.create(c.prototype),o=new M(n||[]);return r(i,"_invoke",{value:k(e,a,o)}),i}function m(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",f="executing",p="completed",g={};function v(){}function y(){}function b(){}var E={};s(E,i,function(){return this});var w=Object.getPrototypeOf,O=w&&w(w(T([])));O&&O!==a&&n.call(O,i)&&(E=O);var j=b.prototype=v.prototype=Object.create(E);function L(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){function a(r,c,i,o){var l=m(e[r],e,c);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then(function(e){a("next",e,i,o)},function(e){a("throw",e,i,o)}):t.resolve(u).then(function(e){s.value=e,i(s)},function(e){return a("throw",e,i,o)})}o(l.arg)}var c;r(this,"_invoke",{value:function(e,n){function r(){return new t(function(t,r){a(e,n,t,r)})}return c=c?c.then(r,r):r()}})}function k(t,a,n){var r=d;return function(c,i){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===c)throw i;return{value:e,done:!0}}for(n.method=c,n.arg=i;;){var o=n.delegate;if(o){var l=x(o,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var s=m(t,a,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}function x(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,x(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var c=m(r,t.iterator,a.arg);if("throw"===c.type)return a.method="throw",a.arg=c.arg,a.delegate=null,g;var i=c.arg;return i?i.done?(a[t.resultName]=i.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,g):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(t){if(t||""===t){var a=t[i];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,c=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return c.next=c}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=b,r(j,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},L(N.prototype),s(N.prototype,o,function(){return this}),t.AsyncIterator=N,t.async=function(e,a,n,r,c){void 0===c&&(c=Promise);var i=new N(u(e,a,n,r),c);return t.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},L(j),s(j,l,"Generator"),s(j,i,function(){return this}),s(j,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return o.type="throw",o.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var c=this.tryEntries.length-1;c>=0;--c){var i=this.tryEntries[c],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var c=r;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var i=c?c.completion:{};return i.type=e,i.arg=t,c?(this.method="next",this.next=c.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),S(a),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;S(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:T(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}var Ht=function(e,t){function a(){return Object(l.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(s.a)(a,[{key:"update",value:function(){this.forceUpdate()}},{key:"componentWillMount",value:function(){this.unsubscribe=this.props.store.subscribe(this.update.bind(this))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"componentDidMount",value:function(){return(t=t||Object(h.a)(zt().mark(function e(){var t;return zt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.store,bt(t);case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},{key:"render",value:function(){var e=this,t=this.props.store,a=t.getState();if(S(a))return n.createElement(Mt,null);if("storage"===a.ui.menuId)return n.createElement(Yt,null);console.log("render normal");var r=Je(a),c=D(a),i=function(e){var t=E(e),a=w(e),n=O(e),r=P(e),c=r?r.filter(function(e){return e.year===a&&e.league===t&&e.isFinished&&e.matchDayId<n}):[];return W(c)}(a),o=a.ui.showPercentage,l=a.ui.selectedModelId,s=a.ui.probabilityDetailsMatchId;return n.createElement("div",{className:"container.fluid"},n.createElement("div",{className:"row justify-content-center"},n.createElement("div",{className:"btn-toolbar",role:"toolbar","aria-label":"Toolbar with button groups"},n.createElement("div",{className:"btn-group",role:"group","aria-label":"Third group"},n.createElement(St,null)),n.createElement("div",{className:"btn-group",role:"group","aria-label":"Third group"},n.createElement(It,{selectedModelId:a.ui.selectedModelId})),n.createElement(kt,{store:t}),n.createElement("div",{className:"btn-group",role:"group","aria-label":"Third group"},n.createElement(At,{state:a,onClick:function(t){return e.props.store.dispatch({type:"ShowPercentage",payload:!t.ui.showPercentage})}})),n.createElement("div",{className:"btn-group",role:"group","aria-label":"Third group"},n.createElement(xt,null))),n.createElement("div",{className:"container-fluid"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-8 no-pad-right"},n.createElement(Se,{matchs:r,teams:c,seasonInfo:i,showPercentage:o,selectedModelId:l,probabilityDetailsMatchId:s,toggleProbabilityDetails:function(t){e.props.store.dispatch(function(e){return{type:"ToggleProbabilityDetails",payload:e}}(t))}})),n.createElement("div",{className:"col-md-3"},n.createElement(Me,{teams:c,seasonInfo:i,matchs:r,selectedModelId:l}))))))}}]),a}(n.Component);function Ft(){Ft=function(){return t};var e,t={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},c="function"==typeof Symbol?Symbol:{},i=c.iterator||"@@iterator",o=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function u(e,t,a,n){var c=t&&t.prototype instanceof v?t:v,i=Object.create(c.prototype),o=new M(n||[]);return r(i,"_invoke",{value:k(e,a,o)}),i}function m(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",f="executing",p="completed",g={};function v(){}function y(){}function b(){}var E={};s(E,i,function(){return this});var w=Object.getPrototypeOf,O=w&&w(w(T([])));O&&O!==a&&n.call(O,i)&&(E=O);var j=b.prototype=v.prototype=Object.create(E);function L(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){function a(r,c,i,o){var l=m(e[r],e,c);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then(function(e){a("next",e,i,o)},function(e){a("throw",e,i,o)}):t.resolve(u).then(function(e){s.value=e,i(s)},function(e){return a("throw",e,i,o)})}o(l.arg)}var c;r(this,"_invoke",{value:function(e,n){function r(){return new t(function(t,r){a(e,n,t,r)})}return c=c?c.then(r,r):r()}})}function k(t,a,n){var r=d;return function(c,i){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===c)throw i;return{value:e,done:!0}}for(n.method=c,n.arg=i;;){var o=n.delegate;if(o){var l=x(o,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var s=m(t,a,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}function x(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,x(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var c=m(r,t.iterator,a.arg);if("throw"===c.type)return a.method="throw",a.arg=c.arg,a.delegate=null,g;var i=c.arg;return i?i.done?(a[t.resultName]=i.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,g):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(t){if(t||""===t){var a=t[i];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,c=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return c.next=c}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=b,r(j,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},L(N.prototype),s(N.prototype,o,function(){return this}),t.AsyncIterator=N,t.async=function(e,a,n,r,c){void 0===c&&(c=Promise);var i=new N(u(e,a,n,r),c);return t.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},L(j),s(j,l,"Generator"),s(j,i,function(){return this}),s(j,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return o.type="throw",o.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var c=this.tryEntries.length-1;c>=0;--c){var i=this.tryEntries[c],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var c=r;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var i=c?c.completion:{};return i.type=e,i.arg=t,c?(this.method="next",this.next=c.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),S(a),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;S(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:T(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}var Bt=function(e,t,a){function r(){return Object(l.a)(this,r),Object(u.a)(this,Object(m.a)(r).apply(this,arguments))}return Object(d.a)(r,e),Object(s.a)(r,[{key:"update",value:function(){this.forceUpdate()}},{key:"componentWillMount",value:function(){this.unsubscribe=this.props.store.subscribe(this.update.bind(this))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"leagueChange",value:function(e){return(t=t||Object(h.a)(Ft().mark(function e(t){var a;return Ft().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.props.store,Nt(a,"matchs"),Ot(a,t.target.id),Et(a,t.target.id),Lt(a);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},{key:"yearChange",value:function(e){return(a=a||Object(h.a)(Ft().mark(function e(t){var a,n,r,c;return Ft().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.props.store,n=a.getState(),r=parseInt(t,10),c=E(n),jt(a,c,r),Lt(a);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},{key:"selectMenu",value:function(e){var t=this.props.store;Nt(t,e.target.id)}},{key:"render",value:function(){var e=this,t=this.props.store.getState(),a=Ve(t),r=T(t),c=E(t),i=w(t);return n.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},n.createElement("a",{className:"navbar-brand",href:"/"},c),n.createElement(Te,{buttonStyles:"btn-sm btn-light",bgStyles:"btn-light",selected:i,data:a,onSelect:this.yearChange.bind(this)}),n.createElement(ce.a,{className:"navbar-toggler","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},n.createElement("span",{className:"navbar-toggler-icon"})),n.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},n.createElement("span",{className:"navbar-text"},n.createElement(re.a,{icon:"futbol"}),"\xa0",n.createElement("b",null,"Fu\xdfball")),n.createElement("ul",{className:"navbar-nav mr-auto",key:"Football"},r.map(function(t){return n.createElement("li",{className:"nav-item ".concat(t.id===c?"active":""),key:t.id},n.createElement("a",{className:"nav-link",href:"#",id:t.id,onClick:e.leagueChange.bind(e)},t.name))})),n.createElement("span",{className:"navbar-text"},n.createElement("b",null,"Einstellungen"),n.createElement("ul",{className:"navbar-nav mr-auto",key:"Settings"},n.createElement("li",{className:"nav-item",key:"storage"},n.createElement("a",{className:"nav-link",href:"#",id:"storage",onClick:this.selectMenu.bind(this)},"Speicher"))))))}}]),r}(n.Component),Rt=(a(67),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.createElement("header",null,n.createElement("p",{className:"text-center font-italic"},n.createElement("span",{className:"badge badge-dark"},"yaspp"),"\xa0 yet another sports page"),n.createElement(Bt,{store:this.props.store}))}}]),t}(n.Component));a(69);var Ut=Object(c.b)(function(e){return{lastUpdate:nt(Je(e))}})(function(e){var t=e.lastUpdate;return n.createElement("footer",null,n.createElement("hr",null),n.createElement("div",{className:"row"},n.createElement("div",{className:"col self-align-start"},n.createElement("small",null,n.createElement("i",null,"aktualisiert")," ",function(e){var t=p()(e),a=p()(),n=p.a.duration(t.diff(a));return n.asYears()>-1?n.humanize(!0):t.format("DD.MM.YY HH:mm")}(t))),n.createElement("div",{className:"col self-align-end text-right"},n.createElement("small",null,n.createElement("i",null,"powered by ",n.createElement("a",{href:"https://www.openligadb.de"},"Openliga DB"))))))}),Gt=a(12),Kt=a(13);Gt.b.add(Kt.m),Gt.b.add(Kt.l),Gt.b.add(Kt.p),Gt.b.add(Kt.o),Gt.b.add(Kt.c),Gt.b.add(Kt.d),Gt.b.add(Kt.h),Gt.b.add(Kt.a),Gt.b.add(Kt.i),Gt.b.add(Kt.j),Gt.b.add(Kt.k),Gt.b.add(Kt.g),Gt.b.add(Kt.f),Gt.b.add(Kt.b),Gt.b.add(Kt.e),Gt.b.add(Kt.n);var Wt=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.store;return n.createElement("div",null,n.createElement(Rt,{store:e}),n.createElement(Ht,{store:e}),n.createElement(Ut,null))}}]),t}(n.Component),Zt=a(20),qt=a(34),Jt={menuId:"",selectedLeague:"",selectedYear:"",selectedMatchDay:0,isInitializing:!1,isLoadingLeagues:!1,isLoadingYears:!1,isLoadingTeams:!1,isLoadingAllMatchDays:!1,isLoadingMatchDay:!1,isRefreshingMatchs:!1,showPercentage:!1,selectedModelId:0},Vt={leagues:[],yearsByLeague:{},teams:{},matchDays:[],matchs:[],teamsByLeagueAndYear:[]},Qt=Object(Zt.c)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t?t.type:""),t.type){case Re:return Object(g.a)({},e,{selectedMatchDay:t.selectedMatchDay});case Ue:var a=t.selectedLeague;return Object(g.a)({},e,{selectedLeague:a});case Ge:var n=t.selectedYear;return Object(g.a)({},e,{selectedYear:n});case De:var r=t.isLoadingLeague;return Object(g.a)({},e,{isLoadingLeagues:r});case _e:var c=t.isLoadingYears;return Object(g.a)({},e,{isLoadingYears:c});case Ce:var i=t.isLoadingTeams;return Object(g.a)({},e,{isLoadingTeams:i});case Pe:var o=t.isLoadingMatchDays;return Object(g.a)({},e,{isLoadingMatchDays:o});case Ye:var l=t.isLoadingMatchs;return Object(g.a)({},e,{isLoadingMatchs:l});case Ae:var s=t.isLoadingLeagues,u=t.leagues[0].id;return Object(g.a)({},e,{isLoadingLeagues:s,selectedLeague:u});case ze:var m=t.isLoadingYears,d=t.yearsByLeague?t.yearsByLeague[t.selectedLeague]:void 0,h=d&&d.length>0?d[0].id:void 0;return Object(g.a)({},e,{isLoadingYears:m,selectedYear:h});case He:var f=t.isLoadingTeams;return Object(g.a)({},e,{isLoadingTeams:f});case Fe:var p=t.isLoadingMatchDays,v=t.matchDays[0].id;return Object(g.a)({},e,{isLoadingMatchDays:p,selectedMatchDay:v});case Be:var y=t.isLoadingMatchs;return Object(g.a)({},e,{isLoadingMatchs:y});case"StartInitializing":case"EndInitializing":return Object(g.a)({},e,{isInitializing:t.isInitializing});case Ke:case"EndRefreshMatchs":return Object(g.a)({},e,{isRefreshingMatchs:t.isRefreshingMatchs});case"SwitchMenu":return Object(g.a)({},e,{menuId:t.menuId});case"ShowPercentage":return Object(g.a)({},e,{showPercentage:t.payload});case"SwitchModel":return Object(g.a)({},e,{selectedModelId:t.payload});case"ToggleProbabilityDetails":return Object(g.a)({},e,{probabilityDetailsMatchId:t.payload});default:return e}},model:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t?t.type:""),console.log(t),console.log(e),t.type){case Ae:var a=Object(v.a)(t.leagues);return Object(g.a)({},e,{leagues:a});case ze:var n=Object(g.a)({},e.yearsByLeague,t.yearsByLeague);return Object(g.a)({},e,{yearsByLeague:n});case He:var r=Object(g.a)({},e.teams,t.teams),c=[].concat(Object(v.a)(e.teamsByLeagueAndYear),Object(v.a)(t.teamsByLeagueAndYear));return Object(g.a)({},e,{teams:r,teamsByLeagueAndYear:c});case Fe:var i=[].concat(Object(v.a)(e.matchDays),Object(v.a)(t.matchDays));return Object(g.a)({},e,{matchDays:i});case Be:for(var o=Object(g.a)({},e.teams,t.teams),l=e.matchs.reduce(function(e,t){return e[t.id]=t,e},{}),s=0;s<t.matchs.length;++s){var u=t.matchs[s];l[u.id]=u}var m=Object.values(l);return Object(g.a)({},e,{matchs:m,teams:o});case"ClearAll":return Vt;case"ClearSeason":var d=t.payload,h=d.league,f=d.year;return Object(g.a)({},e,{matchDays:e.matchDays.filter(function(e){return!(e.league===h&&e.year===f)}),matchs:e.matchs.filter(function(e){return!(e.league===h&&e.year===f)}),teamsByLeagueAndYear:e.teamsByLeagueAndYear.filter(function(e){return!(e.league===h&&e.year===f)})});default:return e}}});a(71);p.a.locale("de");var Xt=qt.a,$t=function(){try{var e=localStorage.getItem("yaspp_state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.error(t)}}(),ea=Object(Zt.d)(Qt,$t,Object(Zt.a)(Xt));ea.subscribe(Object(ue.throttle)(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("yaspp_state",t)}catch(a){console.error(a)}}({model:ea.getState().model})},1e3)),o.a.render(n.createElement(c.a,{store:ea},n.createElement(Wt,{store:ea})),document.getElementById("root"))}},[[36,2,1]]]);
//# sourceMappingURL=main.c5f7624f.chunk.js.map