(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,n){},32:function(e,t,n){e.exports=n(59)},40:function(e,t,n){},43:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(13),o=n(19),c=n.n(o),l=n(4),s=n(5),u=n(7),d=n(6),h=n(8),m=n(22),f=(n(40),n(28),n(14)),p=n.n(f),g=(n(43),n(2)),v=n(15),y=n(3),b=Object(y.c)("ui"),E=Object(y.b)(b,Object(y.c)("selectedLeague")),w=Object(y.b)(b,Object(y.c)("selectedYear")),O=Object(y.b)(b,Object(y.c)("selectedMatchDay")),j=Object(y.b)(b,Object(y.c)("isInitializing")),L=Object(y.b)(b,Object(y.c)("isLoadingLeagues")),N=Object(y.b)(b,Object(y.c)("isLoadingYears")),k=Object(y.b)(b,Object(y.c)("isLoadingTeams")),x=Object(y.b)(b,Object(y.c)("isLoadingAllMatchDays")),I=Object(y.b)(b,Object(y.c)("isLoadingMatchDay")),M=j||L||N||k||x||I,S=Object(y.c)("model"),D=Object(y.b)(S,Object(y.c)("leagues")),T=Object(y.b)(S,Object(y.c)("teams")),_=Object(y.b)(S,Object(y.c)("teamsByLeagueAndYear")),C=Object(y.b)(S,Object(y.c)("matchDays")),Y=Object(y.b)(S,Object(y.c)("matchs")),A=Object(y.b)(S,Object(y.c)("yearsByLeague")),P=function(e,t){return e.reduce(function(e,n){var a=t instanceof Function?t(n):n[t],r=e.find(function(e){return e&&e.key===a});return r?r.values.push(n):e.push({key:a,values:[n]}),e},[])},z=function(e){return e.reduce(function(e,t){return e[t.id]=t,e},{})},B=function(e,t){return e.sort(H(t))},H=function(e){return function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0}},F=function(e){return e.reduce(function(e,t){return e+t},0)},G=[{key:"tg_vs_tg",short:"t-t",description:"Zur Bestimmung der Torwahrscheinlichkeit der beiden Mannschaften werden jeweils alle Tore (heim & ausw\xe4rts) genutzt."},{key:"tgdf_vs_tgdf",short:"t-t*",description:"Zur Bestimmung der Torwahrscheinlichkeit der beiden Mannschaften werden jeweils alle Tore (heim & ausw\xe4rts) genutzt. Zus\xe4tzlich wird die Verteidigungsst\xe4rke der gegnerischen Mannschaft ber\xfccksichtigt."},{key:"hg_vs_ag",short:"h-a",description:"Zur Bestimmung der Torwahrscheinlichkeit der Heimmannschaft werden nur die Heimtore genutzt und f\xfcr die Ausw\xe4rtsmannschaft die Ausw\xe4rtstore."},{key:"hgdf_vs_agdf",short:"h-a*",description:"Zur Bestimmung der Torwahrscheinlichkeit der Heimmannschaft werden nur die Heimtore genutzt und f\xfcr die Ausw\xe4rtsmannschaft die Ausw\xe4rtstore. Zus\xe4tzlich wird die Verteidigungsst\xe4rke der gegnerischen Mannschaft ber\xfccksichtigt."}],R=function(e){return G.find(function(t){return t.key===e})},U=function(e,t){return e>t?3:e===t?1:0},K=function(e,t,n){return e?e[t]&&e[n]?e[t]+e[n]:e[t]?e[t]:e[n]:void 0},Z=function(e){var t=P(e,"teamHomeId").map(function(e){return{team:e.key,hgf:F(e.values.map(function(e){return e.fullTimeHome})),hga:F(e.values.map(function(e){return e.fullTimeAway})),hp:F(e.values.map(function(e){return U((t=e).fullTimeHome,t.fullTimeAway);var t})),hm:e.values.length}}),n=P(e,"teamAwayId").map(function(e){return{team:e.key,agf:F(e.values.map(function(e){return e.fullTimeAway})),aga:F(e.values.map(function(e){return e.fullTimeHome})),ap:F(e.values.map(function(e){return U((t=e).fullTimeAway,t.fullTimeHome);var t})),am:e.values.length}}),a=P([].concat(Object(v.a)(t),Object(v.a)(n)),"team").map(function(e){return e.values.reduce(function(e,t){return Object(g.a)({},e,t)},{hgf:0,hga:0,hp:0,hm:0,agf:0,aga:0,ap:0,am:0})}).map(function(e){var t=Object(g.a)({},e);return t.tgf=K(e,"hgf","agf"),t.tga=function(e){return K(e,"hga","aga")}(e),t.tp=function(e){return K(e,"hp","ap")}(e),t.tm=function(e){return K(e,"hm","am")}(e),t}),r=a.reduce(function(e,t){var n=Object(g.a)({},e);return n.hga+=t.hga,n.hm+=t.hm,n.aga+=t.aga,n.am+=t.am,n.tga+=t.tga,n.tm+=t.tm,n},{hga:0,hm:0,aga:0,am:0,tga:0,tm:0}),i=r.hm>0?r.hga/r.hm:void 0,o=r.am>0?r.aga/r.am:void 0,c=r.tm>0?r.tga/r.tm:void 0;return a.map(function(e){return Object(g.a)({},e,{hdf:i?e.hga/e.hm/i:1,adf:o?e.aga/e.am/o:1,tdf:c?e.tga/e.tm/c:1})})},q=function(e,t){return{home:e&&e.hm?e.hgf/e.hm:void 0,away:t&&t.am?t.agf/t.am:void 0}},W=function(e,t){return{home:e&&e.tm?e.tgf/e.tm:void 0,away:t&&t.tm?t.tgf/t.tm:void 0}},J=function(e,t,n){switch(n){case"hgdf_vs_agdf":return function(e,t){var n=q(e,t);return{home:n.home&&t.adf?n.home*t.adf:void 0,away:n.away&&e.hdf?n.away*e.hdf:void 0}}(e,t);case"hg_vs_ag":return q(e,t);case"tgdf_vs_tgdf":return function(e,t){var n=W(e,t);return{home:n.home&&t.tdf?n.home*t.tdf:void 0,away:n.away&&e.tdf?n.away*e.tdf:void 0}}(e,t);case"tg_vs_tg":default:return W(e,t)}},V=function(e,t){return e?e.toFixed(t):"0.0"},Q=function(e,t){return Math.pow(e,t)*Math.exp(-e)/function(e){for(var t=1,n=1;n<=e;++n)t*=n;return t}(t)},X=function(e){for(var t=0,n=e.length,a=0;a<n;++a)for(var r=a+1;r<n;++r)t+=e[a][r];return t},$=function(e){for(var t=0,n=e.length,a=1;a<n;++a)for(var r=0;r<a;++r)t+=e[a][r];return t},ee=function(e){for(var t=0,n=e.length,a=0;a<n;++a)t+=e[a][a];return t},te=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.01,r=Math.max(a,e||0),i=Math.max(a,t||0),o=[],c=0;c<=n;++c){for(var l=[],s=0;s<=n;++s)l.push(Q(r,c)*Q(i,s));o.push(l)}return o},ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?(100*e).toFixed(t)+"%":"-"},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e?Math.min(99.9,1/e).toFixed(t):"-"},re=n(10),ie=n(63),oe=n(62),ce=(n(48),n(24)),le=n.n(ce),se=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.stats.home,t=this.props.stats.away,n=te(e,t,7,.01),a=[0,1,2,3,4,5,6],i=[];a.forEach(function(e){a.forEach(function(t){i.push({prob:n[e][t],result:"".concat(e,":").concat(t)})})});var o=le.a.sortBy(i,function(e){return-e.prob});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement("small",null,"TOP 3")),[0,1,2].map(function(e){return r.a.createElement("div",{className:"col-3"},r.a.createElement("small",null,o[e].result," (",(100*o[e].prob).toFixed(1),"%)"))})),r.a.createElement("div",{className:"d-flex flex-column p-0"},r.a.createElement("div",{className:"d-flex flex-nowrap align-items-stretch"},r.a.createElement("div",{className:"p-2 text-center score-card"},"[%]"),a.map(function(e){return r.a.createElement("div",{className:"p-2 text-center score-card"},e)})),a.map(function(e){return r.a.createElement("div",{className:"d-flex flex-nowrap align-items-stretch"},r.a.createElement("div",{className:"p-2 text-center score-card"},e),a.map(function(t){return r.a.createElement("div",{className:"p-2 text-center score-card ".concat(e===t?"diagonal":"non-diagonal"),style:{backgroundColor:"hsl(360 100% ".concat(100-70*n[e][t],"%)")}},r.a.createElement("small",null,(100*n[e][t]).toFixed(0)))}))})))}}]),t}(r.a.Component),ue=(n(50),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).logoSize=20,n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"details",value:function(e,t,n,a,i){var o=t[e],c=n.find(function(t){return t.team===e});console.log(a);var l=["tg_vs_tg","tgdf_vs_tgdf"].includes(a),s=["hg_vs_ag","hgdf_vs_agdf"].includes(a)&&i,u=["hg_vs_ag","hgdf_vs_agdf"].includes(a)&&!i;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement("img",{src:o.iconUrl,alt:o.name,height:this.logoSize,width:this.logoSize})),!c&&r.a.createElement("div",{className:"col-10"},r.a.createElement("i",null,"no data")),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-1"},r.a.createElement("small",null,c.tp)),r.a.createElement("div",{className:"col-2"},r.a.createElement("small",{className:"".concat(l?"bold":"")},c.tgf,":",c.tga)),r.a.createElement("div",{className:"col-1"},r.a.createElement("small",null,c.hp)),r.a.createElement("div",{className:"col-2"},r.a.createElement("small",{className:"".concat(s?"bold":"")},c.hgf,":",c.hga)),r.a.createElement("div",{className:"col-1"},r.a.createElement("small",null,c.ap)),r.a.createElement("div",{className:"col-2"},r.a.createElement("small",{className:"".concat(u?"bold":"")},c.agf,":",c.aga))))}},{key:"render",value:function(){var e=this.props.teams,t=this.props.match,n=this.props.seasonInfo,a=this.props.modelKey;return e&&t&&n?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement("small",null,"Team")),r.a.createElement("div",{className:"col-3"},r.a.createElement("small",null,"Gesamt")),r.a.createElement("div",{className:"col-3"},r.a.createElement("small",null,"Heim")),r.a.createElement("div",{className:"col-3"},r.a.createElement("small",null,"Ausw\xe4rts"))),this.details(t.teamHomeId,e,n,a,!0),this.details(t.teamAwayId,e,n,a,!1)):r.a.createElement("div",null,"empty")}}]),t}(r.a.Component)),de=function(e,t){return e?ne(t):ae(t)},he=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).logoSize=20,n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match,n=this.props.teams,a=this.props.seasonInfo,i=this.props.modelKey,o=this.props.probabilityDetailsMatchId,c=t.id===o,l=n[t.teamHomeId],s=n[t.teamAwayId],u=function(e,t,n,a){var r=e.find(function(e){return e.team===t}),i=e.find(function(e){return e.team===n});return J(r,i,a)}(a,t.teamHomeId,t.teamAwayId,i),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(V(e.home,t),":").concat(V(e.away,t))}(u,1),h=function(e,t){var n=te(e,t);return{win:$(n),tie:ee(n),loss:X(n)}}(u.home,u.away),m=(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;"".concat(ne(e.win,t),"/").concat(ne(e.tie,t),"/").concat(ne(e.loss,t))}(h),this.props.showPercentage);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row",key:t.id,"data-toggle":"tooltip",title:"aktualisiert: "+p()(t.lastUpdate).format("DD.MM.YY HH:mm:ss")},r.a.createElement("div",{className:"col-2 pr-0"},r.a.createElement("img",{src:l.iconUrl,alt:l.shortName,height:this.logoSize,width:this.logoSize}),r.a.createElement("img",{src:s.iconUrl,alt:s.shortName,height:this.logoSize,width:this.logoSize})),r.a.createElement("div",{className:"col-1 pr-0"},r.a.createElement("small",null,"(",t.halfTimeHome,":",t.halfTimeAway,")")),r.a.createElement("div",{className:"col-1 pr-0"},r.a.createElement("small",{className:t.isFinished?"final ":""},t.fullTimeHome,":",t.fullTimeAway)),r.a.createElement("div",{className:"col-1"},r.a.createElement(ie.a,{size:"sm",color:"link",onClick:function(){return e.props.toggleProbabilityDetails(c?null:t.id)}},r.a.createElement(re.a,{icon:"angle-double-down",color:"gray"}))),r.a.createElement("div",{className:"col-2 text-center pr-0"},r.a.createElement("small",null,r.a.createElement("i",null,d))),r.a.createElement("div",{className:"col-1 text-center pr-0"},r.a.createElement("small",null,r.a.createElement("i",null,de(m,h.win)))),r.a.createElement("div",{className:"col-1 text-center pr-0"},r.a.createElement("small",null,r.a.createElement("i",null,de(m,h.tie)))),r.a.createElement("div",{className:"col-1 text-center pr-0"},r.a.createElement("small",null,r.a.createElement("i",null,de(m,h.loss))))),r.a.createElement("div",{className:"row"},r.a.createElement(oe.a,{className:"col-12",isOpen:c},r.a.createElement(ue,{match:t,teams:n,seasonInfo:a,modelKey:i}),r.a.createElement(se,{stats:u}))))}}]),t}(r.a.Component),me=(n(52),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.statsTitle,n=(this.props.statsDescription,this.props.showPercentage);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row",key:"this.props.date"},r.a.createElement("div",{scope:"col",className:"col-5 "},r.a.createElement("small",null,p()(this.props.date).format("ddd DD.MM HH:mm"))),t&&r.a.createElement("div",{scope:"col",className:"col-2 text-center"},r.a.createElement("small",null,t,"\xa0",r.a.createElement(re.a,{icon:"info-circle",size:"sm"}))),t&&r.a.createElement("div",{scope:"col",className:"col-1 text-center"},r.a.createElement("small",null,"1")),t&&r.a.createElement("div",{scope:"col",className:"col-1 text-center"},r.a.createElement("small",null,"0")),t&&r.a.createElement("div",{scope:"col",className:"col-1 text-center"},r.a.createElement("small",null,"2")),t&&r.a.createElement("div",{scope:"col",className:"col-1 text-center"})),this.props.matchs.map(function(t){return r.a.createElement(he,{match:t,teams:e.props.teams,seasonInfo:e.props.seasonInfo,key:t.id,showPercentage:n,modelKey:e.props.modelKey,probabilityDetailsMatchId:e.props.probabilityDetailsMatchId,toggleProbabilityDetails:e.props.toggleProbabilityDetails})}))}}]),t}(r.a.Component)),fe=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.matchs,n=this.props.teams,a=this.props.seasonInfo,i=this.props.showPercentage;if(!t||0===t.length||!n)return r.a.createElement("div",null,"empty");var o,c=(o=function(e){return e.matchDateTime},t.reduce(function(e,t){var n=o(t);return(e[n]=e[n]||[]).push(t),e},{})),l=Object.entries(c);B(l,"0");var s=this.props.selectedModelId,u=G[s].key,d=function(e){var t=R(e);return t?t.short:""}(u),h=function(e){var t=R(e);return t?t.description:""}(u);return r.a.createElement("div",{className:"container-fluid schedule"},l.map(function(t,o){return r.a.createElement(me,{teams:n,seasonInfo:a,date:t[0],matchs:t[1],key:t[0],statsTitle:0===o?d:"",statsDescription:h,modelKey:u,showPercentage:i,probabilityDetailsMatchId:e.props.probabilityDetailsMatchId,toggleProbabilityDetails:e.props.toggleProbabilityDetails})}))}}]),t}(r.a.Component),pe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).logoSize=20,n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.seasonInfo,n=this.props.teams,a=this.props.matchs.flatMap(function(e){return[e.teamHomeId,e.teamAwayId]}),i=(t&&t.length?t:a.map(function(e){return{team:e,tp:0,tgf:0,tga:0}})).map(function(e){return Object(g.a)({},e,{iconUrl:n[e.team].iconUrl,shortName:n[e.team].shortName})}),o=B(i,"tp").reverse();return r.a.createElement("table",{class:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Team"),r.a.createElement("th",{scope:"col"},"P"),r.a.createElement("th",{scope:"col"},"TG"),r.a.createElement("th",{scope:"col"},"TA"))),r.a.createElement("tbody",null,o.map(function(t,n){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{src:t.iconUrl,alt:t.shortName,height:e.logoSize,width:e.logoSize})),r.a.createElement("td",null,t.tp),r.a.createElement("td",null,t.tgf),r.a.createElement("td",null,t.tga))})))}}]),t}(r.a.Component),ge=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"onSelect",value:function(e){for(var t=e.target;!t.id;)t=t.parentElement;this.props.onSelect(t.id)}},{key:"render",value:function(){var e=this;if(!this.props.data)return a.createElement("div",null);var t=this.props.buttonStyles?this.props.buttonStyles:"",n=this.props.bgStyles?this.props.bgStyles:"",r=this.props.data,i=r.findIndex(function(t){return t.id===e.props.selected}),o=r[i],c=i+1,l=i-1,s=c<r.length?r[c].id:void 0,u=l>=0?r[l].id:void 0;return a.createElement("div",{className:"btn-group ".concat(n),role:"group","aria-label":"Button group with nested dropdown"},a.createElement(ie.a,{id:u,className:"btn btn-secondary ".concat(t),disabled:void 0===u,onClick:this.onSelect.bind(this)},a.createElement(re.a,{icon:"caret-left"})),a.createElement("div",{className:"btn-group",role:"group"},a.createElement(ie.a,{id:"btnGroupDrop1",className:"btn btn-secondary dropdown-toggle ".concat(t),"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o?o.name:this.props.selected),a.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupDrop1"},this.props.data.map(function(t){return a.createElement(ie.a,{className:"dropdown-item",id:t.id,key:t.id,onClick:e.onSelect.bind(e)},t.name)})),a.createElement(ie.a,{id:s,className:"btn btn-secondary ".concat(t),onClick:this.onSelect.bind(this),disabled:void 0===s},a.createElement(re.a,{icon:"caret-right"}))))}}]),t}(a.Component),ve="RequestLeagues",ye="RequestYears",be="RequestTeams",Ee="RequestMatchDays",we="RequestMatchs",Oe="ReceiveLeagues",je="ReceiveYears",Le="ReceiveTeams",Ne="ReceiveMatchDays",ke="ReceiveMatchs",xe="SelectMatchDay",Ie="SelectLeague",Me="SelectYear",Se="StartRefreshMatchs",De=[{id:"bl1",name:"1.Bundesliga",key:3005,years:[2023,2022,2021,2020,2019,2018,2017,2016,2015]},{id:"bl2",name:"2.Bundesliga",years:[2023,2022,2021,2020,2019,2018,2017,2016,2015]},{id:"bl3",name:"3.Bundesliga",years:[2023,2022,2021,2020,2019,2018,2017,2016,2015]},{id:"fifa18",name:"WM18",years:[2018]}];var Te="https://api.openligadb.de";function _e(e){return{id:e.teamId,shortName:e.shortName,iconUrl:e.teamIconUrl,name:e.teamName}}function Ce(e){var t=E(e),n=w(e),a=O(e),r=Y(e);return r?r.filter(function(e){return e.league===t&&e.year===n&&e.matchDayId===a}):[]}function Ye(e){var t=E(e);return A(e)[t.toString()]}function Ae(e){var t=E(e),n=w(e);return C(e).filter(function(e){return e.league===t&&e.year===n})}var Pe=function(e,t){return!!Ae(e).find(function(e){return e.id===t})},ze=function(e){var t=Y(e);return t&&t.length>0},Be=function(e,t){if(!e)throw new Error("state not defined");if(!t)throw new Error("selectedLeague not defined");var n=A(e)[t.toString()];return n&&n.length>0},He=function(e,t,n){if(!e)throw new Error("state not defined");if(!t)throw new Error("selectedLeague not defined");if(!n)throw new Error("selectedYear not defined");var a=_(e).filter(function(e){return e.league===t&&e.year===n});return a&&a.length>0},Fe=function(e,t,n){if(!e)throw new Error("state not defined");if(!t)throw new Error("selectedLeague not defined");if(!n)throw new Error("selectedYear not defined");var a=C(e).filter(function(e){return e.league===t&&e.year===n});return a&&a.length>0},Ge=function(e){if(e&&0!==e.length)return Object(y.a)(Object(y.c)("lastUpdate"))(e).sort().reverse()[0]};function Re(e,t){return Pe(e,t)||(t=O(e)),{type:xe,selectedMatchDay:t}}function Ue(e){return{type:Ie,selectedLeague:e}}function Ke(e,t){return{type:Me,selectedLeague:e,selectedYear:t}}function Ze(e,t,n){return{type:Ne,isLoadingMatchDays:!1,selectedLeague:e,selectedYear:t,matchDays:n.map(function(n){return a=n,r=e,i=t,{id:parseInt(a.groupOrderID,10),name:a.groupName,key:parseInt(a.groupID,10),league:r,year:i};var a,r,i})}}function qe(e,t){return function(n){return n(function(e,t){return{type:Ee,isLoadingMatchDays:!0,selectedLeague:e,selectedYear:t}}(e,t)),function(e,t){if(!e)throw new Error("league is not defined");if(!t)throw new Error("year is not defined");var n="".concat(Te,"/getavailablegroups/").concat(e,"/").concat(t);return fetch(n).then(function(e){return e.json()})}(e,t).then(function(a){return n(Ze(e,t,a))})}}function We(e,t,n){return function(a){return a(function(e,t,n){return{type:we,isLoadingMatchs:!0,selectedLeague:e,selectedYear:t,selectedMatchDay:n}}(e,t,n)),function(e,t,n){if(!e)throw new Error("league is not defined");if(!t)throw new Error("year is not defined");if(!n)throw new Error("matchday is not defined");var a="".concat(Te,"/getmatchdata/").concat(e,"/").concat(t,"/").concat(n);return fetch(a).then(function(e){return e.json()})}(e,t,n).then(function(r){return a(function(e,t,n,a){var r=function(e){for(var t,n={},a=0;a<e.length;a++){var r=[_e((t=e[a]).team1),_e(t.team2)],i=r[0];n[i.id]=i;var o=r[1];n[o.id]=o}return n}(a);return{type:ke,isLoadingMatchs:!1,selectedLeague:e,selectedYear:t,selectedMatchDay:n,matchs:a.map(function(n){return function(e,t,n){var a=e.matchID,r=e.matchDateTime,i=e.team1.teamId,o=e.team2.teamId,c=e.matchIsFinished,l=e.group.groupOrderID,s=e.leagueId,u=e.lastUpdateDateTime,d=e.matchResults.find(function(e){return"Halbzeit"===e.resultName||"Halbzeitergebnis"===e.resultName}),h=e.matchResults.find(function(e){return"Endergebnis"===e.resultName});return{id:a,teamHomeId:i,teamAwayId:o,matchDayId:l,league:t,leagueKey:s,year:n,lastUpdate:u,matchDateTime:r,isFinished:c,halfTimeHome:d?d.pointsTeam1:"-",halfTimeAway:d?d.pointsTeam2:"-",fullTimeHome:h?h.pointsTeam1:"-",fullTimeAway:h?h.pointsTeam2:"-"}}(n,e,t)}),teams:r}}(e,t,n,r))})}}function Je(e){var t=E(e),n=w(e),a=O(e);if(t&&n&&n)return function(r){return r({type:Se,isRefreshingMatchs:!0}),function(e,t,n){if(!e)throw new Error("league is not defined");if(!t)throw new Error("year is not defined");if(!n)throw new Error("matchday is not defined");var a="".concat(Te,"/getlastchangedate/").concat(e,"/").concat(t,"/").concat(n);return fetch(a).then(function(e){return e.json()})}(t,n,a).then(function(i){!function(e,t){console.log(e,t);var n=Ce(e),a=Ge(n);return!a||a<t}(e,i)?r(Ve()):We(t,n,a)(r).then(function(e){return r(Ve())})})}}function Ve(){return{type:Se,isRefreshingMatchs:!1}}function Qe(e,t){return function(n){return n(function(e,t){return{type:be,isLoadingTeams:!0,selectedLeague:e,selectedYear:t}}(e,t)),function(e,t){if(!e)throw new Error("league is not defined");if(!t)throw new Error("year is not defined");var n="".concat(Te,"/getavailableteams/").concat(e,"/").concat(t);return fetch(n).then(function(e){return e.json()})}(e,t).then(function(a){return n(function(e,t,n){var a=n.map(function(e){return _e(e)}),r=z(a),i=a.map(function(n){return{teamId:n.id,league:e,year:t}});return{type:Le,isLoadingTeams:!1,selectedLeague:e,selectedYear:t,teams:r,teamsByLeagueAndYear:i}}(e,t,a))})}}function Xe(){return function(e){e({type:ve,isLoadingLeagues:!0});var t=De.map(function(e){return{id:e.id,name:e.name}});e({type:Oe,isLoadingLeagues:!1,leagues:t.map(function(e){return e})})}}function $e(e){if(void 0===e)throw new Error("selectedLeague is undefined");return function(t){t(function(e){return{type:ye,isLoadingYears:!0,selectedLeague:e}}(e));var n=function(e){var t=De.find(function(t){return t.id===e});return t?t.years.map(function(t){return{id:t,name:t,leagueId:e}}):[]}(e);t(function(e,t){var n=t.map(function(e){return e}),a={};return a[e]=n,{type:je,selectedLeague:e,isLoadingYears:!1,yearsByLeague:a}}(e,n))}}var et=function(){return{type:"StartInitializing",isInitializing:!0}},tt=function(){return{type:"EndInitializing",isInitializing:!1}};function nt(e){var t=e.getState(),n=E(t),a=w(t),r=O(t);return Y(t).find(function(e){return e.league===n&&e.year===a&&e.matchDayId===r})}var at=function(e,t,n,a){return e.dispatch(We(t,n,a))},rt=function(e){return e.dispatch(function(e){return function(t){t(et());var n=e.getState();if(ze(n)){var a=D(n)[0];t(Ue(a.id)),n=e.getState()}else Xe()(t),n=e.getState();var r=E(n);if(Be(n,r)){var i=Ye(n)[0];t(Ke(r,i.id)),n=e.getState()}else $e(r)(t),n=e.getState();var o=w(n);if(He(n,r,o)||t(Qe(r,o)),Fe(n,r,o)){var c=Ae(n)[0];t(Re(n,c.id))}else t(qe(r,o)).then(function(){var n=e.getState(),a=O(n);t(We(r,o,a))});t(tt())}}(e))},it=function(e,t){return e.dispatch($e(t))},ot=function(e,t){return e.dispatch(Re(e.getState(),t))},ct=function(e,t){return e.dispatch(Ue(t))},lt=function(e,t,n){return e.dispatch(Ke(t,n))},st=function(e){var t=e.getState();(function(e){var t=e.getState(),n=E(t),a=w(t);return C(t).find(function(e){return e.league===n&&e.year===a})})(e)||(t=e.getState(),function(e,t,n){e.dispatch(qe(t,n))}(e,E(t),w(t))),t=e.getState();var n=O(t);if(ot(e,n=n||1),!nt(e)){var a=e.getState();at(e,E(a),w(a),O(a))}},ut=function(e,t){return e.dispatch(function(e){return{type:"SwitchMenu",menuId:e}}(t))},dt=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"onSelect",value:function(e){var t=this.props.store;ot(t,parseInt(e,10)),this.updateMatchs()}},{key:"updateMatchs",value:function(){var e=this.props.store;if(!nt(e)){var t=e.getState();at(e,E(t),w(t),O(t))}}},{key:"render",value:function(){var e=this.props.store.getState(),t=Ae(e),n=O(e);return a.createElement(ge,{data:t,selected:n,onSelect:this.onSelect.bind(this)})}}]),t}(a.Component),ht=Object(i.b)(function(e){return{disabled:!1,isUpdating:e.ui.isRefreshingMatchs,state:e}},function(e){return{onClick:function(t){console.log("refresh"),e(Je(t))}}})(function(e){var t=e.onClick,n=e.disabled,r=e.isUpdating,i=e.state;return a.createElement(ie.a,{type:"button",className:"btn btn-secondary",onClick:function(){return t(i)},disabled:n&&!r},a.createElement(re.a,{icon:"sync",spin:r}))}),mt=Object(i.b)(function(e){return{disabled:!1}},function(e,t){return{onClick:function(){e(function(e){return{type:"SwitchModel",payload:(t=e,++t%G.length)};var t}(t.selectedModelId))}}})(function(e){var t=e.onClick,n=e.disabled;return a.createElement(ie.a,{className:"btn btn-secondary",onClick:t,disabled:n},a.createElement(re.a,{icon:"sliders-h"}))}),ft=Object(i.b)(function(e){return{onClick:function(){console.log("refresh")},disabled:!0}})(function(e){var t=e.onClick,n=e.disabled;return a.createElement(ie.a,{className:"btn btn-secondary",onClick:t,disabled:n},a.createElement(re.a,{icon:"ellipsis-v"}))}),pt=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.store.getState();return j(e)?a.createElement("h2",null,"Intializing..."):L(e)?a.createElement("h2",null,"Loading Leagues..."):N(e)?a.createElement("h2",null,"Loading Years..."):x(e)?a.createElement("h2",null,"Loading Matchdays..."):k(e)?a.createElement("h2",null,"Loading Teams..."):I(e)?a.createElement("h2",null,"Loading Matchs..."):void 0}}]),t}(a.Component),gt=function(e){var t=e.icon,n=e.disabled,r=e.handleClick;return a.createElement(ie.a,{color:"link",onClick:r,disabled:n},a.createElement(re.a,{icon:t}))},vt=Object(i.b)(function(e){return{icon:"trash-alt",disabled:!1}},function(e){return{handleClick:function(){e({type:"ClearAll"})}}})(gt),yt=Object(i.b)(function(e,t){return{icon:"trash",disabled:!1}},function(e,t){return{handleClick:function(){var n,a;e((n=t.league,a=t.year,{type:"ClearSeason",payload:{league:n,year:a}}))}}})(gt),bt=function(e){return Object.keys(e.model.teams).length},Et=function(e){return P(e.model.matchs,function(e){return e.league}).map(function(t){return{league:t.key,name:e.model.leagues.find(function(e){return e.id===t.key}).name,seasons:B(P(t.values,function(e){return e.year}).map(function(e){return{year:e.key,count:P(e.values,function(e){return e.matchDayId}).length}}),"year")}})},wt=Object(i.b)(function(e){return function(e){return{teamCount:bt(e),leagues:Et(e)}}(e)})(function(e){var t=e.teamCount,n=e.leagues;return a.createElement("div",null,a.createElement("h3",null,"Lokaler Speicher ",a.createElement(vt,null)),a.createElement("div",{className:"storage-header"},"Allgemeine Informationen"),a.createElement("div",{className:"storage-row"},"Mannschaften (",t,")"),a.createElement("div",{className:"storage-header"},"Ligen"),a.createElement("div",null,n.count),n.map(function(e){return a.createElement("div",{key:e.league},a.createElement("div",{className:"storage-sub-header"},e.name),e.seasons.map(function(t){return n=e.league,r=t.year,i=t.count,a.createElement("div",{className:"storage-row",key:"".concat(n,"_").concat(r)},r," (",i,") ",a.createElement(yt,{league:n,year:r}));var n,r,i}))}))}),Ot=function(e){var t=e.onClick,n=e.disabled,r=e.state;return a.createElement(ie.a,{type:"button",className:"btn btn-secondary","data-toggle":"button","aria-pressed":r.ui.showPercentage,onClick:function(){return t(r)},disabled:n},a.createElement(re.a,{icon:"percentage"}))};function jt(){jt=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),c=new S(a||[]);return r(o,"_invoke",{value:k(e,n,c)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",m="suspendedYield",f="executing",p="completed",g={};function v(){}function y(){}function b(){}var E={};s(E,o,function(){return this});var w=Object.getPrototypeOf,O=w&&w(w(D([])));O&&O!==n&&a.call(O,o)&&(E=O);var j=b.prototype=v.prototype=Object.create(E);function L(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){function n(r,i,o,c){var l=d(e[r],e,i);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&a.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,o,c)},function(e){n("throw",e,o,c)}):t.resolve(u).then(function(e){s.value=e,o(s)},function(e){return n("throw",e,o,c)})}c(l.arg)}var i;r(this,"_invoke",{value:function(e,a){function r(){return new t(function(t,r){n(e,a,t,r)})}return i=i?i.then(r,r):r()}})}function k(t,n,a){var r=h;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return{value:e,done:!0}}for(a.method=i,a.arg=o;;){var c=a.delegate;if(c){var l=x(c,a);if(l){if(l===g)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(r===h)throw r=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r=f;var s=d(t,n,a);if("normal"===s.type){if(r=a.done?p:m,s.arg===g)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(r=p,a.method="throw",a.arg=s.arg)}}}function x(t,n){var a=n.method,r=t.iterator[a];if(r===e)return n.delegate=null,"throw"===a&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var i=d(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function n(){for(;++r<t.length;)if(a.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=b,r(j,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},L(N.prototype),s(N.prototype,c,function(){return this}),t.AsyncIterator=N,t.async=function(e,n,a,r,i){void 0===i&&(i=Promise);var o=new N(u(e,n,a,r),i);return t.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},L(j),s(j,l,"Generator"),s(j,o,function(){return this}),s(j,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=D,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(a,r){return c.type="throw",c.arg=t,n.next=a,r&&(n.method="next",n.arg=e),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),s=a.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;M(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,a){return this.delegate={iterator:D(t),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=e),g}},t}var Lt=function(e,t){function n(){return Object(l.a)(this,n),Object(u.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(s.a)(n,[{key:"update",value:function(){this.forceUpdate()}},{key:"componentWillMount",value:function(){this.unsubscribe=this.props.store.subscribe(this.update.bind(this))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"componentDidMount",value:function(){return(t=t||Object(m.a)(jt().mark(function e(){var t;return jt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.store,rt(t);case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},{key:"render",value:function(){var e=this,t=this.props.store,n=t.getState();if(M(n))return a.createElement(pt,null);if("storage"===n.ui.menuId)return a.createElement(wt,null);console.log("render normal");var r=Ce(n),i=T(n),o=function(e){var t=E(e),n=w(e),a=O(e),r=Y(e),i=r?r.filter(function(e){return e.year===n&&e.league===t&&e.isFinished&&e.matchDayId<a}):[];return Z(i)}(n),c=n.ui.showPercentage,l=n.ui.selectedModelId,s=n.ui.probabilityDetailsMatchId;return a.createElement("div",{className:"container.fluid"},a.createElement("div",{className:"row justify-content-center"},a.createElement("div",{className:"btn-toolbar",role:"toolbar","aria-label":"Toolbar with button groups"},a.createElement("div",{className:"btn-group",role:"group","aria-label":"Third group"},a.createElement(ft,null)),a.createElement("div",{className:"btn-group",role:"group","aria-label":"Third group"},a.createElement(mt,{selectedModelId:n.ui.selectedModelId})),a.createElement(dt,{store:t}),a.createElement("div",{className:"btn-group",role:"group","aria-label":"Third group"},a.createElement(Ot,{state:n,onClick:function(t){return e.props.store.dispatch({type:"ShowPercentage",payload:!t.ui.showPercentage})}})),a.createElement("div",{className:"btn-group",role:"group","aria-label":"Third group"},a.createElement(ht,null))),a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-8 no-pad-right"},a.createElement(fe,{matchs:r,teams:i,seasonInfo:o,showPercentage:c,selectedModelId:l,probabilityDetailsMatchId:s,toggleProbabilityDetails:function(t){e.props.store.dispatch(function(e){return{type:"ToggleProbabilityDetails",payload:e}}(t))}})),a.createElement("div",{className:"col-md-3"},a.createElement(pe,{teams:i,seasonInfo:o,matchs:r,selectedModelId:l}))))))}}]),n}(a.Component);function Nt(){Nt=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),c=new S(a||[]);return r(o,"_invoke",{value:k(e,n,c)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",m="suspendedYield",f="executing",p="completed",g={};function v(){}function y(){}function b(){}var E={};s(E,o,function(){return this});var w=Object.getPrototypeOf,O=w&&w(w(D([])));O&&O!==n&&a.call(O,o)&&(E=O);var j=b.prototype=v.prototype=Object.create(E);function L(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){function n(r,i,o,c){var l=d(e[r],e,i);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&a.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,o,c)},function(e){n("throw",e,o,c)}):t.resolve(u).then(function(e){s.value=e,o(s)},function(e){return n("throw",e,o,c)})}c(l.arg)}var i;r(this,"_invoke",{value:function(e,a){function r(){return new t(function(t,r){n(e,a,t,r)})}return i=i?i.then(r,r):r()}})}function k(t,n,a){var r=h;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return{value:e,done:!0}}for(a.method=i,a.arg=o;;){var c=a.delegate;if(c){var l=x(c,a);if(l){if(l===g)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(r===h)throw r=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r=f;var s=d(t,n,a);if("normal"===s.type){if(r=a.done?p:m,s.arg===g)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(r=p,a.method="throw",a.arg=s.arg)}}}function x(t,n){var a=n.method,r=t.iterator[a];if(r===e)return n.delegate=null,"throw"===a&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var i=d(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function n(){for(;++r<t.length;)if(a.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=b,r(j,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},L(N.prototype),s(N.prototype,c,function(){return this}),t.AsyncIterator=N,t.async=function(e,n,a,r,i){void 0===i&&(i=Promise);var o=new N(u(e,n,a,r),i);return t.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},L(j),s(j,l,"Generator"),s(j,o,function(){return this}),s(j,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=D,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(a,r){return c.type="throw",c.arg=t,n.next=a,r&&(n.method="next",n.arg=e),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),s=a.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;M(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,a){return this.delegate={iterator:D(t),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=e),g}},t}var kt=function(e,t,n){function r(){return Object(l.a)(this,r),Object(u.a)(this,Object(d.a)(r).apply(this,arguments))}return Object(h.a)(r,e),Object(s.a)(r,[{key:"update",value:function(){this.forceUpdate()}},{key:"componentWillMount",value:function(){this.unsubscribe=this.props.store.subscribe(this.update.bind(this))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"leagueChange",value:function(e){return(t=t||Object(m.a)(Nt().mark(function e(t){var n;return Nt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.props.store,ut(n,"matchs"),ct(n,t.target.id),it(n,t.target.id),st(n);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},{key:"yearChange",value:function(e){return(n=n||Object(m.a)(Nt().mark(function e(t){var n,a,r,i;return Nt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.props.store,a=n.getState(),r=parseInt(t,10),i=E(a),lt(n,i,r),st(n);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},{key:"selectMenu",value:function(e){var t=this.props.store;ut(t,e.target.id)}},{key:"render",value:function(){var e=this,t=this.props.store.getState(),n=Ye(t),r=D(t),i=E(t),o=w(t);return a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},a.createElement("a",{className:"navbar-brand",href:"/"},i),a.createElement(ge,{buttonStyles:"btn-sm btn-light",bgStyles:"btn-light",selected:o,data:n,onSelect:this.yearChange.bind(this)}),a.createElement(ie.a,{className:"navbar-toggler","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},a.createElement("span",{className:"navbar-toggler-icon"})),a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},a.createElement("span",{className:"navbar-text"},a.createElement(re.a,{icon:"futbol"}),"\xa0",a.createElement("b",null,"Fu\xdfball")),a.createElement("ul",{className:"navbar-nav mr-auto",key:"Football"},r.map(function(t){return a.createElement("li",{className:"nav-item ".concat(t.id===i?"active":""),key:t.id},a.createElement("a",{className:"nav-link",href:"#",id:t.id,onClick:e.leagueChange.bind(e)},t.name))})),a.createElement("span",{className:"navbar-text"},a.createElement("b",null,"Einstellungen"),a.createElement("ul",{className:"navbar-nav mr-auto",key:"Settings"},a.createElement("li",{className:"nav-item",key:"storage"},a.createElement("a",{className:"nav-link",href:"#",id:"storage",onClick:this.selectMenu.bind(this)},"Speicher"))))))}}]),r}(a.Component),xt=(n(54),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement("header",null,a.createElement("p",{className:"text-center font-italic"},a.createElement("span",{className:"badge badge-dark"},"yaspp"),"\xa0 yet another sports page"),a.createElement(kt,{store:this.props.store}))}}]),t}(a.Component));n(56);var It=Object(i.b)(function(e){return{lastUpdate:Ge(Ce(e))}})(function(e){var t=e.lastUpdate;return a.createElement("footer",null,a.createElement("hr",null),a.createElement("div",{className:"row"},a.createElement("div",{className:"col self-align-start"},a.createElement("small",null,a.createElement("i",null,"aktualisiert")," ",function(e){var t=p()(e),n=p()(),a=p.a.duration(t.diff(n));return a.asYears()>-1?a.humanize(!0):t.format("DD.MM.YY HH:mm")}(t))),a.createElement("div",{className:"col self-align-end text-right"},a.createElement("small",null,a.createElement("i",null,"powered by ",a.createElement("a",{href:"https://www.openligadb.de"},"Openliga DB"))))))}),Mt=n(9),St=n(12);Mt.b.add(St.m),Mt.b.add(St.l),Mt.b.add(St.p),Mt.b.add(St.o),Mt.b.add(St.c),Mt.b.add(St.d),Mt.b.add(St.h),Mt.b.add(St.a),Mt.b.add(St.i),Mt.b.add(St.j),Mt.b.add(St.k),Mt.b.add(St.g),Mt.b.add(St.f),Mt.b.add(St.b),Mt.b.add(St.e),Mt.b.add(St.n);var Dt=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.store;return a.createElement("div",null,a.createElement(xt,{store:e}),a.createElement(Lt,{store:e}),a.createElement(It,null))}}]),t}(a.Component),Tt=n(18),_t=n(31),Ct={menuId:"",selectedLeague:"",selectedYear:"",selectedMatchDay:0,isInitializing:!1,isLoadingLeagues:!1,isLoadingYears:!1,isLoadingTeams:!1,isLoadingAllMatchDays:!1,isLoadingMatchDay:!1,isRefreshingMatchs:!1,showPercentage:!1,selectedModelId:0},Yt={leagues:[],yearsByLeague:{},teams:{},matchDays:[],matchs:[],teamsByLeagueAndYear:[]},At=Object(Tt.c)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t?t.type:""),t.type){case xe:return Object(g.a)({},e,{selectedMatchDay:t.selectedMatchDay});case Ie:var n=t.selectedLeague;return Object(g.a)({},e,{selectedLeague:n});case Me:var a=t.selectedYear;return Object(g.a)({},e,{selectedYear:a});case ve:var r=t.isLoadingLeague;return Object(g.a)({},e,{isLoadingLeagues:r});case ye:var i=t.isLoadingYears;return Object(g.a)({},e,{isLoadingYears:i});case be:var o=t.isLoadingTeams;return Object(g.a)({},e,{isLoadingTeams:o});case Ee:var c=t.isLoadingMatchDays;return Object(g.a)({},e,{isLoadingMatchDays:c});case we:var l=t.isLoadingMatchs;return Object(g.a)({},e,{isLoadingMatchs:l});case Oe:var s=t.isLoadingLeagues,u=t.leagues[0].id;return Object(g.a)({},e,{isLoadingLeagues:s,selectedLeague:u});case je:var d=t.isLoadingYears,h=t.yearsByLeague?t.yearsByLeague[t.selectedLeague]:void 0,m=h&&h.length>0?h[0].id:void 0;return Object(g.a)({},e,{isLoadingYears:d,selectedYear:m});case Le:var f=t.isLoadingTeams;return Object(g.a)({},e,{isLoadingTeams:f});case Ne:var p=t.isLoadingMatchDays,v=t.matchDays[0].id;return Object(g.a)({},e,{isLoadingMatchDays:p,selectedMatchDay:v});case ke:var y=t.isLoadingMatchs;return Object(g.a)({},e,{isLoadingMatchs:y});case"StartInitializing":case"EndInitializing":return Object(g.a)({},e,{isInitializing:t.isInitializing});case Se:case"EndRefreshMatchs":return Object(g.a)({},e,{isRefreshingMatchs:t.isRefreshingMatchs});case"SwitchMenu":return Object(g.a)({},e,{menuId:t.menuId});case"ShowPercentage":return Object(g.a)({},e,{showPercentage:t.payload});case"SwitchModel":return Object(g.a)({},e,{selectedModelId:t.payload});case"ToggleProbabilityDetails":return Object(g.a)({},e,{probabilityDetailsMatchId:t.payload});default:return e}},model:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t?t.type:""),console.log(t),console.log(e),t.type){case Oe:var n=Object(v.a)(t.leagues);return Object(g.a)({},e,{leagues:n});case je:var a=Object(g.a)({},e.yearsByLeague,t.yearsByLeague);return Object(g.a)({},e,{yearsByLeague:a});case Le:var r=Object(g.a)({},e.teams,t.teams),i=[].concat(Object(v.a)(e.teamsByLeagueAndYear),Object(v.a)(t.teamsByLeagueAndYear));return Object(g.a)({},e,{teams:r,teamsByLeagueAndYear:i});case Ne:var o=[].concat(Object(v.a)(e.matchDays),Object(v.a)(t.matchDays));return Object(g.a)({},e,{matchDays:o});case ke:for(var c=Object(g.a)({},e.teams,t.teams),l=e.matchs.reduce(function(e,t){return e[t.id]=t,e},{}),s=0;s<t.matchs.length;++s){var u=t.matchs[s];l[u.id]=u}var d=Object.values(l);return Object(g.a)({},e,{matchs:d,teams:c});case"ClearAll":return Yt;case"ClearSeason":var h=t.payload,m=h.league,f=h.year;return Object(g.a)({},e,{matchDays:e.matchDays.filter(function(e){return!(e.league===m&&e.year===f)}),matchs:e.matchs.filter(function(e){return!(e.league===m&&e.year===f)}),teamsByLeagueAndYear:e.teamsByLeagueAndYear.filter(function(e){return!(e.league===m&&e.year===f)})});default:return e}}});n(58);p.a.locale("de");var Pt=_t.a,zt=function(){try{var e=localStorage.getItem("yaspp_state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.error(t)}}(),Bt=Object(Tt.d)(At,zt,Object(Tt.a)(Pt));Bt.subscribe(Object(ce.throttle)(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("yaspp_state",t)}catch(n){console.error(n)}}({model:Bt.getState().model})},1e3)),c.a.render(a.createElement(i.a,{store:Bt},a.createElement(Dt,{store:Bt})),document.getElementById("root"))}},[[32,2,1]]]);
//# sourceMappingURL=main.933752c5.chunk.js.map